#Hogyan gyártsunk Egységtesztelős programot Yii-vel (Test Driven Development)

http://code.google.com/images/code_sm.png

= Introduction =

_"Ismeret az nem cselekedet, csakis cselekedet a cselekedet"_ - tdc10

= Táblák =

{{{
++++++++++++++++++++++++++
+ urls                   +
++++++++++++++++++++++++++
+ id INT (auto_increment)+
+ url TEXT               +
+ shortened VARCHAR(50)  +
+ created INT            +
++++++++++++++++++++++++++
}}}

*SQLite3*
{{{
CREATE TABLE urls (created INTEGER, id INTEGER PRIMARY KEY, shortened varchar(50), updated INTEGER, url TEXT);
}}}

_protected/config/main.php_
{{{
...
  'connectionString' => 'sqlite:'.dirname(__FILE__).'/../data/rovidke.db',
...
}}}

{{{
./protected/yiic shell
Yii Interactive Tool v1.1 (based on Yii v1.1.3-dev)
Please type 'help' for help. Type 'exit' to quit.
>> _
}}}

{{{
>> model Url urls
   generate models/Url.php
   generate fixtures/urls.php
   generate unit/UrlTest.php

The following model classes are successfully generated:
    Url

If you have a 'db' database connection, you can test these models now with:
    $model=Url::model()->find();
    print_r($model);
>>
}}}

_protected/tests/_
{{{
PHPUnit 3.3.16 by Sebastian Bergmann.

E

Time: 0 seconds

There was 1 error:

1) testCreate(UrlTest)
CDbException: CDbCommand failed to execute the SQL statement: CDbCommand failed to prepare the SQL statement: SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence
/var/www/yii-svn/framework/db/CDbCommand.php:228
/var/www/yii-svn/framework/db/schema/sqlite/CSqliteSchema.php:38
/var/www/yii-svn/framework/test/CDbFixtureManager.php:244
/var/www/yii-svn/framework/test/CDbFixtureManager.php:139
/var/www/yii-svn/framework/test/CDbFixtureManager.php:296
/var/www/yii-svn/framework/test/CDbTestCase.php:116

FAILURES!
Tests: 1, Assertions: 0, Errors: 1.
}}}

_protected/config/test.php_
{{{
...
 'connectionString'=>'sqlite:' . dirname(__FILE__).'/../rovidke_test.db',
...
}}}

/protected/tests/
{{{
$phpunit unit
...
There was 1 error:

1) testCreate(UrlTest)
CDbException: The table "urls" for active record class "Url" cannot be found in the database.
...
}}}

Add your content here.


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages